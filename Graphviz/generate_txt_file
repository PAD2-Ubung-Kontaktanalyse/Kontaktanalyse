//	Header für PAD2-Kontaktanalyse
//
//	Arbeitsablauf der Funktion 
//	
//	Öffnen der Angegebenen Quellatei
//	Es wird eine Neue Datei "Code_Graphviz.txt" erstellt. 
//	Die Quelldatei wird Zeile für Zeile eingelesen und 
//	Daten entsprechend in die neue .txt Datei geschrieben
//	Das Format der .txt Datei kann in Graphviz online eingegeben werden. 
//
//	https://dreampuf.github.io/GraphvizOnline/#digraph G
//
//	Hierzu bitte das vorhande Skript mit dem Inhalt der .txt Datei ersetzen. 
//
///////////////////////////////////////////////////////////////////////
  
#ifndef scriptwriter_h
#define scriptwriter_h 
 
/**
 *  @brief Reads generated List and converts it into Graphviz script 
 *  @details Format of output file: .txt with script
 *  @param input_path Path + file name of the full list of names
 *  @param output_path Path + file name where to output should be saved
 *  @return Returns 0
 */
 
int create_txt(FILE *myfile, FILE *newfile){
   FILE *myfile;
    char Dateiname[80];
   FILE *newfile;

	int Interaktion_ID;                                                   // Fortlaufende Nummerrierung des einlesens                 
	int ID_Person_1;                                                      // Identifikationsnummer von Person 1 
	int ID_Person_2;					              // Identifikationsnummer von Person 2
	int Start_Zeit;								
	int End_Zeit;

    printf("Geben Sie die Bezeichnung der Datei ein:\n");		      // Dateiname abfragen
    scanf("%s", Dateiname);

    myfile = fopen(Dateiname, "r");                                 	      // Datei zum schreiben öffnen 
    newfile = fopen("Code_Graphviz.txt","w");				      // Datei neu erzeugen bzw. ueberschreiben, wenn es sie schon gibt	
    
        if(myfile == NULL) {                                        	      // Fehlerbehandlung 
            printf("could not oben %s", Dateiname);
            return 0;
        }
        
        while(fscanf(myfile, " %d,%d,%d,%d,%d", 
			&Interaktion_ID, 
			&ID_Person_1, 
			&ID_Person_2. 
			%Start_Zeit, 
			%End_Zeit
		     ) != EOF) {    					      // Einlesen der Zeilen bis End Of File
	 
	 fprintf(newfile,"digraph G { \n\n");
	 fprintf(newfile,"%d -> %d\n", &ID_Person1, &ID_Person2); 
	 fprintf(newfile,"\n}"};
	  
        }
	
fclose(myfile);
fclose(newfile);

}

#endif /* scriptwriter_h */
